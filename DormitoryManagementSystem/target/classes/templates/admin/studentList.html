<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>studentList</title>    
	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<script type="text/javascript">
	$(function(){
		$("#addBtn").click(function(){
			var code = $("#code");

			var msg = "";
			if(code.val() == ""){
				msg = "宿舍编号不能为空!";
				code.focus();
			}
			if(msg != ""){
				alert(msg);
				return false;
			}
			$("#addForm").submit();
		});
	});
</script>
</head>
<body>
<nav class="navbar navbar-default navbar-inverse" role="navigation">
	
	<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		<form class="navbar-form navbar-left" th:action="@{/admin/getStusByDynamic}" role="search">
			<div class="form-group">
				<input type="text" class="form-control" name="name" id="name" placeholder="姓名"/>
			</div> <button type="submit" class="btn btn-default">搜索</button>
		</form>
	</div>
	
</nav>

<div class="with:80%">
<a class="move_left" data-toggle="modal" data-target="#addModal"  ><img alt="添加" src="../img/添加.png"></a> 
    <table class="table table-hover">
        <thead>
        <tr>
            <th>编号</th>
            <th>姓名</th>
            <th>地址</th>
            <th>学号</th>
            <th>电话</th>
            <th>宿舍编号</th>
            <th>宿舍名称</th>
            <th>宿舍类型</th>
            <th>操作</th>
 
        </tr>
        </thead>
        <tbody>
        <tr th:each="student : ${students}">
            <th scope="row" th:text="${student.id}"></th>
            <td th:text="${student.name}"></td>
            <td th:text="${student.address}"></td>
            <td th:text="${student.sno}"></td>
            <td th:text="${student.phone}"></td>
            <td th:text="${student.dormInfoCode}"></td>
             <td th:text="${student.dormInfoName}"></td>
             <td th:text="${student.dormInfoType}"></td>
            <td><a th:href="@{/admin/toEditStudent(sno=${student.sno})}"  class="btn btn-info">编辑</a>  <a th:href="@{/admin/deleteStudent(id=${student.id})}"   class="btn btn-danger">删除</a></td>
        </tr>
        </tbody>
    </table>
</div>

<!-- 添加框（Modal） -->
<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" >
        <div class="modal-content" style="width:700px">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">添加学生信息</h4>
            </div>
            <div class="modal-body">
             <form class="form-horizontal" id="addForm" th:action="@{/admin/addStudent}"  method="post">
			        <div class="form-group">
			            <label for="name" class="col-sm-2 control-label">姓名</label>
			            <div class="col-sm-10">
			                <input type="text" class="form-control" name="name" id="name" 
			                       placeholder="请填写"/>
			            </div>
			        </div>
			        			        <div class="form-group">
			            <label for="name" class="col-sm-2 control-label">地址</label>
			            <div class="col-sm-10">
			                <input type="text" class="form-control" name="address" id="address" 
			                       placeholder="请填写"/>
			            </div>
			        </div>
			        			        <div class="form-group">
			            <label for="name" class="col-sm-2 control-label">学号</label>
			            <div class="col-sm-10">
			                <input type="text" class="form-control" name="sno" id="sno" 
			                       placeholder="请填写"/>
			            </div>
			        </div>
			        			        <div class="form-group">
			            <label for="name" class="col-sm-2 control-label">电话</label>
			            <div class="col-sm-10">
			                <input type="text" class="form-control" name="phone" id="phone" 
			                       placeholder="请填写"/>
			            </div>
			        </div>
			        <div class="form-group">
			            <label for="name" class="col-sm-2 control-label">宿舍编号</label>
			            <div class="col-sm-10">
			                <input type="text" class="form-control" name="code" id="code" 
			                       placeholder="请填写"/>
			            </div>
			        </div>
			
			        <div class="form-group">
			            <div class="col-sm-offset-2 col-sm-10">
			                <input type="button" id="addBtn" value="提交" class="btn btn-info"/>
			                &nbsp; &nbsp; &nbsp;
			                <input type="reset" value="重置" class="btn btn-info"/>
			            </div>
			
			        </div>
   		   </form>
       </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>


</body>
</html>